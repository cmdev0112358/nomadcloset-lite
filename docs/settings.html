<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings - NomadCloset</title>
    <link rel="icon" type="image/png" href="media/favicon.png" />
    <style>
      body {
        visibility: hidden;
      }
    </style>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>
  <body>
    <header>
      <h1><a href="index.html">NomadCloset</a></h1>

      <button id="burger-menu-btn">☰</button>
      <div class="controls"></div>

      <div class="action-menu-wrapper" id="user-menu-wrapper">
        <button class="action-btn" id="user-menu-btn">
          <span id="user-email-display">...</span> ▼
        </button>
        <div class="action-menu" id="user-menu">
          <a href="index.html">Back to App</a>
          <a href="#" id="logout-btn" class="delete">Log Out</a>
        </div>
      </div>
    </header>

    <main class="container">
      <nav class="sidebar" id="settings-nav">
        <h2>Settings</h2>
        <ul>
          <li id="nav-profile" class="active">Profile</li>
          <li id="nav-categories">Categories</li>
        </ul>
      </nav>

      <section class="main-content" id="settings-content">
        <div id="profile-page" class="settings-page">
          <h3>Profile: <span id="profile-email-display">...</span></h3>
          <form id="change-password-form" class="settings-form">
            <h4>Change Password</h4>
            <p>Enter a new password for your account.</p>
            <label for="new-password">New Password</label>
            <input
              type="password"
              id="new-password"
              placeholder="Enter new password"
              required
            />
            <button type="submit">Save New Password</button>
            <p id="password-message" class="form-message"></p>
          </form>

          <hr class="modal-hr" />

          <div class="danger-zone">
            <h4>Danger Zone</h4>
            <p>These actions are permanent and cannot be undone.</p>
            <button id="logout-all-btn" class="delete-btn">
              Log Out From All Devices
            </button>
            <a href="#" id="delete-account-link" class="delete-btn"
              >Delete This Account</a
            >
          </div>
        </div>

        <div id="categories-page" class="settings-page hidden">
          <h3>Manage Categories</h3>

          <div id="add-category-form">
            <input
              type="text"
              id="new-category-name"
              placeholder="New category name"
            />
            <button id="add-category-btn">Add</button>
          </div>

          <hr class="modal-hr" />

          <h4>Your Categories</h4>
          <ul id="category-list"></ul>
        </div>
      </section>
    </main>

    <script src="config.js" type="module"></script>
    <script src="settings.js" type="module"></script>
    <script src="app.js" type="module"></script>

    <nav id="mobile-menu" class="mobile-menu-hidden">
      <button id="mobile-menu-close-btn">&times;</button>
      <ul>
        <li class="mobile-menu-section">Account</li>
        <li><a href="settings.html">Settings</a></li>
        <li><a href="#" id="mobile-export-csv-btn">Export Log (CSV)</a></li>
        <li><a href="#" id="mobile-logout-btn" class="delete">Log Out</a></li>
      </ul>
    </nav>

    <footer class="app-footer">
      <p>NomadCloset © 2025 cmdev0112358</p>
      <p>
        <a href="https://github.com/cmdev0112358/NomadCloset" target="_blank"
          >View on GitHub</a
        >
      </p>
      <p>
        <a
          href="https://github.com/cmdev0112358/nomadcloset/blob/main/documentation/PRIVACY.md"
          target="_blank"
          >Privacy Policy</a
        >
      </p>
    </footer>
  </body>
</html>
